
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения." - Дайн Иван


---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
```answer
Основное отличие в организации взаимодействия гостевой ОС с физическим хостом.
В аппаратной виртуализации гостевые ОС через гипервизор взаимодействуют c "железом". Позволяет устанавливать любые гостевые ОС.
Паравиртуализация требует наличия отдельной ОС на хосте, помимо самого гипервизора, а гостевая ОС модифицируется
для взаимодействия с ресурсами через специальные драйвера.
При виртуализация на основе ОС виртуализируется не аппартная часть, а пользовательское окружение ОС, для взаимодействия
с аппаратной частью используются реальные драйверы. Не допускает запуск виртуальных ОС с ядрами отличных от типа ядра ОС хоста.
Отсутствует слой гипервизора.
```
## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
```answer
Паравиртуализация. Скорость работы приближенна к физическому серверу, возможность кластеризации обеспечит более высокую
отказоустойчивость.
```
- Различные web-приложения.
```answer
Виртуализация уровня ОС. Более высокая плотность размещения, легкость масштабирования при возрасании нагрузки.
```
- Windows системы для использования бухгалтерским отделом.
```answer
Паравиртуализация более дорогое решение, но позволяет добиться большей отказоустойчивости.
Виртуализация уровня ОС потребует меньше аппартных ресурсов.
```
- Системы, выполняющие высокопроизводительные расчеты на GPU.
```answer
Физические сервера. Максимально производительное использование аппаратных ресурсов видеокарт.
```

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
```answer
Возможна реализация на базе VMWare. Для балансировки потребуется кластеризация, она как и репликация,
и автоматизация создания резервных копий есть в этом продукте. Вообще подобную задачу можно решить на
любом из гипервизоров рассмотренных в лекции (Xen, HyperV, VMWare, KVM).
```
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
```answer
Решение на KVM соответсвует всем пунктам поставленной задачи. Он бесплатен, код открытый, переваривает
и Linux и Windows. Конечно понимание "небольшой" - относительное, мне с более крупными инфраструктурами
работать не приходилось(.
```
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
```answer
Если уже имеется Windows инфраструктура, то значит Hyper-V будет бесплатным и думаю, что в плане
производительности и совместимости для Windows должно быть всё хорошо.
```
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
```answer
Я с виртуализацией на уровне ОС еще не работал, но судя по описанию это будет оптимальным решением
для данной задачи, поскольку оно наиболее простое для разворачивания, достаточное для тестироваие
и допустимо, когда используются ОС с ядром одного типа.
```

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
```answer
Если речь идёт о гетерогенной среде на одном хосте, то кроме как совмещения паравиртуализации и виртуализации
на основе ОС рабочих примеров в голову не приходит. Недостатком будет более сложное взаимодействие виртуалок
из разных сред, организация общих локальных ресурсов, наличие точки отказа всей системы. Подобные решения видятся
исключительно для лабараторных задач.
Для множества хостов гетерогенность виртуализации потребует более широких компетенций обслуживающих их инженеров.
Но возможны сценарии, где такой подход применим. В рамках одного предприятия вполне могут одновременно существовать
все 4 сценария из задания 3, например, телеканал, где есть отдел графического дизайна с фермами для просчета, и веб
отдел с контейнерами, бухгалтерия, кадры и безопасники требующие "полную" изоляцию своих систем, парк серверов для
работы корпортаивного ldap, почты, схд, планировщиков и т.п.
```
